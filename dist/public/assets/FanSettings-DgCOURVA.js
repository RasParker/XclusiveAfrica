import{u as ue,a as xe,w as pe,r as o,j as e,C as u,d as x,e as p,U as fe,f,g as j,h as n,I as g,B as c,aa as m,au as je,F as ge,l as R,S as ye}from"./index-DnjzDop3.js";import{S as d}from"./separator-Buenz_HF.js";import{T as ve,a as we,b as N,c as b}from"./tabs-Tn3DyEKi.js";import{A as q,a as Ne,b as K,c as Q,d as $,e as W,f as X,g as Z,h as ee}from"./alert-dialog-DWgssEGA.js";import{g as be}from"./OnlineStatusIndicator-GBM_TUd-.js";import{C as Pe}from"./camera-ZSXt9JtB.js";import{E as Ce}from"./eye-DwXGc38I.js";import{T as se}from"./trash-2-DTtK-_sv.js";const Ue=()=>{var J;const{user:i,updateUser:A}=ue(),{toast:a}=xe(),te=pe(),[I,V]=o.useState(!1),[_,z]=o.useState(!1);o.useState(!1);const[l,y]=o.useState({username:(i==null?void 0:i.username)||"",email:(i==null?void 0:i.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[F,T]=o.useState({emailNotifications:!0,pushNotifications:!1,contentUpdates:!0,promotionalEmails:!1}),[v,w]=o.useState({profileVisibility:"public",showInSearch:!0,allowDirectMessages:"subscribed",showActivity:!1}),[P,C]=o.useState({autoRenew:!0,monthlySpendingLimit:500,renewalReminders:!0,paymentFailureNotifications:!0}),[B,ie]=o.useState({twoFactorEnabled:!1,loginNotifications:!0,suspiciousActivityAlerts:!0}),[k,D]=o.useState({adultContent:!1,contentFiltering:"moderate",autoplayVideos:!0,showPreviews:!0}),[O,U]=o.useState(""),[ae,L]=o.useState(!1),[re,M]=o.useState(!1),[S,Y]=o.useState(""),[ne,oe]=o.useState("profile");o.useEffect(()=>{const t=async()=>{try{const s=await fetch("/api/user/settings");if(s.ok){const r=await s.json();w(h=>({...h,showInSearch:r.profile_discoverable,showActivity:r.activity_status_visible}))}try{const r=await fetch("/api/user/notification-preferences");if(r.ok){const h=await r.json();T(E=>({...E,emailNotifications:h.email_notifications??!0,pushNotifications:h.push_notifications??!1}))}}catch(r){console.log("Notification preferences not available:",r)}}catch(s){console.error("Error loading user settings:",s)}};i!=null&&i.id&&t()},[i==null?void 0:i.id]);const H=async t=>{try{if((await fetch("/api/user/privacy-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_discoverable:t.showInSearch,activity_status_visible:t.showActivity})})).ok)i!=null&&i.id&&await te.invalidateQueries({queryKey:be(Number(i.id))}),a({title:"Privacy settings saved",description:"Your privacy settings have been updated successfully."});else throw new Error("Failed to save privacy settings")}catch(s){console.error("Error saving privacy settings:",s),a({title:"Error",description:"Failed to save privacy settings. Please try again.",variant:"destructive"})}},ce=async t=>{t.preventDefault(),V(!0);try{await new Promise(s=>setTimeout(s,1e3)),A({username:l.username,email:l.email}),a({title:"Profile updated",description:"Your profile has been successfully updated."})}catch{a({title:"Update failed",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{V(!1)}},le=async t=>{if(t.preventDefault(),l.newPassword!==l.confirmPassword){a({title:"Password mismatch",description:"New passwords do not match.",variant:"destructive"});return}if(l.newPassword.length<6){a({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}z(!0);try{const s=await fetch("/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:l.currentPassword,newPassword:l.newPassword})});if(!s.ok){const r=await s.json();throw new Error(r.error||"Failed to change password")}a({title:"Password changed",description:"Your password has been successfully updated."}),y(r=>({...r,currentPassword:"",newPassword:"",confirmPassword:""}))}catch(s){a({title:"Update failed",description:s instanceof Error?s.message:"Failed to update password. Please try again.",variant:"destructive"})}finally{z(!1)}},de=async()=>{if(O==="DELETE")try{if(!(await fetch(`/api/users/${i==null?void 0:i.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete account");a({title:"Account deleted",description:"Your account has been permanently deleted.",variant:"destructive"}),L(!1),U(""),localStorage.clear(),setTimeout(()=>{window.location.href="/"},2e3)}catch(t){console.error("Error deleting account:",t),a({title:"Deletion failed",description:"Failed to delete account. Please try again.",variant:"destructive"})}},me=async()=>{if(!S){a({title:"Email required",description:"Please enter a new email address.",variant:"destructive"});return}try{await new Promise(t=>setTimeout(t,1e3)),A({email:S}),y(t=>({...t,email:S})),a({title:"Email updated",description:"Your email address has been successfully updated."}),M(!1),Y("")}catch{a({title:"Update failed",description:"Failed to update email. Please try again.",variant:"destructive"})}},he=async t=>{var r;const s=(r=t.target.files)==null?void 0:r[0];if(s)try{if(console.log("Uploading profile photo:",s.name),s.size>5*1024*1024){a({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"});return}const h=new FormData;h.append("profilePhoto",s);const E=await fetch("/api/upload/profile-photo",{method:"POST",body:h});if(!E.ok)throw new Error("Upload failed");const G=await E.json();console.log("Upload successful:",G),A({avatar:G.url}),a({title:"Photo updated",description:"Your profile photo has been successfully updated."})}catch(h){console.error("Upload error:",h),a({title:"Upload failed",description:"Failed to upload photo. Please try again.",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 text-center sm:text-left",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2 flex items-center gap-2 justify-center sm:justify-start",children:"Fan Settings"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your account preferences and privacy settings"})]}),e.jsx(ve,{value:ne,onValueChange:oe,className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(we,{className:"mb-6",children:[e.jsx(N,{value:"profile",children:"Profile"}),e.jsx(N,{value:"notifications",children:"Alerts"}),e.jsx(N,{value:"subscriptions",children:"Subs"}),e.jsx(N,{value:"privacy",children:"Privacy"}),e.jsx(N,{value:"security",children:"Security"})]}),e.jsxs(b,{value:"profile",className:"space-y-6",children:[e.jsxs(u,{className:"bg-gradient-card border-border/50",children:[e.jsxs(x,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"Profile Information"]}),e.jsx(f,{children:"Update your personal information and profile details"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-background bg-background",children:i!=null&&i.avatar?e.jsx("img",{src:i.avatar,alt:"Profile photo",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-primary flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-bold text-primary-foreground",children:((J=i==null?void 0:i.username)==null?void 0:J.charAt(0).toUpperCase())||"U"})})}),e.jsxs("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-primary rounded-full border-2 border-background flex items-center justify-center cursor-pointer hover:bg-primary/90 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:he,className:"hidden",id:"profile-upload"}),e.jsx("label",{htmlFor:"profile-upload",className:"cursor-pointer flex items-center justify-center w-full h-full",children:i!=null&&i.avatar?e.jsx(Pe,{className:"w-3 h-3 text-primary-foreground"}):e.jsx("span",{className:"text-primary-foreground text-sm font-bold",children:"+"})})]})]}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Square image recommended. Max file size: 5MB"})})]})]})}),e.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"username",children:"Username"}),e.jsx(g,{id:"username",value:l.username,onChange:t=>y(s=>({...s,username:t.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(g,{id:"email",type:"email",value:l.email,onChange:t=>y(s=>({...s,email:t.target.value}))})]})]}),e.jsx(c,{type:"submit",disabled:I,children:I?"Updating...":"Update Profile"})]})]})]}),e.jsxs(u,{className:"bg-gradient-card border-border/50",children:[e.jsxs(x,{children:[e.jsx(p,{children:"Content Preferences"}),e.jsx(f,{children:"Customize your content viewing experience"})]}),e.jsx(j,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Content Filtering"}),e.jsxs("select",{className:"w-full p-2 border rounded-md bg-background",value:k.contentFiltering,onChange:t=>D(s=>({...s,contentFiltering:t.target.value})),children:[e.jsx("option",{value:"none",children:"No filtering"}),e.jsx("option",{value:"moderate",children:"Moderate filtering"}),e.jsx("option",{value:"strict",children:"Strict filtering"})]})]}),e.jsx(d,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Adult Content"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow mature content in your feed"})]}),e.jsx(m,{checked:k.adultContent,onCheckedChange:t=>D(s=>({...s,adultContent:t}))})]}),e.jsx(d,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Autoplay Videos"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically play videos in your feed"})]}),e.jsx(m,{checked:k.autoplayVideos,onCheckedChange:t=>D(s=>({...s,autoplayVideos:t}))})]})]})})]})]}),e.jsx(b,{value:"notifications",className:"space-y-6",children:e.jsxs(u,{className:"bg-gradient-card border-border/50",children:[e.jsxs(x,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Notification Preferences"]}),e.jsx(f,{children:"Manage how you receive notifications and updates"})]}),e.jsx(j,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),e.jsx(m,{checked:F.emailNotifications,onCheckedChange:async t=>{T(s=>({...s,emailNotifications:t}));try{if((await fetch("/api/user/notification-preferences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email_notifications:t})})).ok)a({title:"Email notifications updated",description:t?"Email notifications enabled":"Email notifications disabled"});else throw new Error("Failed to save email notification preference")}catch(s){console.error("Error saving email notification preference:",s),a({title:"Error",description:"Failed to save notification preference. Please try again.",variant:"destructive"})}}})]}),e.jsx(d,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications in your browser"})]}),e.jsx(m,{checked:F.pushNotifications,onCheckedChange:async t=>{T(s=>({...s,pushNotifications:t}));try{if((await fetch("/api/user/notification-preferences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({push_notifications:t})})).ok)a({title:"Push notifications updated",description:t?"Push notifications enabled":"Push notifications disabled"});else throw new Error("Failed to save push notification preference")}catch(s){console.error("Error saving push notification preference:",s),a({title:"Error",description:"Failed to save notification preference. Please try again.",variant:"destructive"})}}})]}),F.pushNotifications&&e.jsxs(e.Fragment,{children:[e.jsx(d,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Test Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send a test notification to verify everything is working"}),e.jsx(c,{variant:"outline",size:"sm",onClick:async()=>{try{if((await fetch("/api/test-push-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Test Notification",message:"This is a test push notification from your Fan Settings!"})})).ok)Notification.permission==="granted"&&new Notification("Test Notification",{body:"This is a test push notification from your Fan Settings!",icon:"/favicon.ico"}),a({title:"Test notification sent",description:"Check your browser for the test notification."});else throw new Error("Failed to send test notification")}catch{a({title:"Test failed",description:"Failed to send test notification.",variant:"destructive"})}},children:"Send Test Notification"})]})]})]})})]})}),e.jsxs(b,{value:"subscriptions",className:"space-y-6",children:[e.jsxs(u,{className:"bg-gradient-card border-border/50",children:[e.jsxs(x,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5"}),"Subscription Preferences"]}),e.jsx(f,{children:"Manage your subscription and payment settings"})]}),e.jsx(j,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Auto-Renewal"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically renew subscriptions when they expire"})]}),e.jsx(m,{checked:P.autoRenew,onCheckedChange:t=>C(s=>({...s,autoRenew:t}))})]}),e.jsx(d,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"spendingLimit",children:"Monthly Spending Limit (GHS)"}),e.jsx(g,{id:"spendingLimit",type:"number",value:P.monthlySpendingLimit,onChange:t=>C(s=>({...s,monthlySpendingLimit:parseInt(t.target.value)||0}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Set to 0 for no limit"})]}),e.jsx(d,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Renewal Reminders"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified before subscriptions renew"})]}),e.jsx(m,{checked:P.renewalReminders,onCheckedChange:t=>C(s=>({...s,renewalReminders:t}))})]}),e.jsx(d,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Payment Failure Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get alerted when payments fail"})]}),e.jsx(m,{checked:P.paymentFailureNotifications,onCheckedChange:t=>C(s=>({...s,paymentFailureNotifications:t}))})]})]})})]}),e.jsxs(u,{className:"bg-gradient-card border-border/50",children:[e.jsxs(x,{children:[e.jsx(p,{children:"Active Subscriptions"}),e.jsx(f,{children:"Manage your current subscriptions"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"CreatorName"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Premium Tier • GHS 9.99/month"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{variant:"success",className:"text-xs",children:"Active"}),e.jsx(c,{variant:"outline",size:"sm",children:"Manage"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"AnotherCreator"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Basic Tier • GHS 4.99/month"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{variant:"success",className:"text-xs",children:"Active"}),e.jsx(c,{variant:"outline",size:"sm",children:"Manage"})]})]})]})})]})]}),e.jsxs(b,{value:"privacy",className:"space-y-6",children:[e.jsxs(u,{className:"bg-gradient-card border-border/50",children:[e.jsxs(x,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Privacy & Visibility"]}),e.jsx(f,{children:"Control who can see your profile and activity"})]}),e.jsx(j,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Profile Visibility"}),e.jsxs("select",{className:"w-full p-2 border rounded-md bg-background",value:v.profileVisibility,onChange:async t=>{const s=t.target.value;w(r=>({...r,profileVisibility:s}));try{if((await fetch("/api/user/privacy-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_visibility:s})})).ok)a({title:"Profile visibility updated",description:`Profile is now ${s}`});else throw new Error("Failed to save profile visibility")}catch(r){console.error("Error saving profile visibility:",r),a({title:"Error",description:"Failed to save profile visibility. Please try again.",variant:"destructive"})}},children:[e.jsx("option",{value:"public",children:"Public - Anyone can view"}),e.jsx("option",{value:"subscribers",children:"Subscribers Only"}),e.jsx("option",{value:"private",children:"Private - Hidden"})]})]}),e.jsx(d,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Show in Search Results"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow others to find your profile in search"})]}),e.jsx(m,{checked:v.showInSearch,onCheckedChange:async t=>{const s={...v,showInSearch:t};w(s),await H(s)}})]}),e.jsx(d,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Who can message you"}),e.jsxs("select",{className:"w-full p-2 border rounded-md bg-background",value:v.allowDirectMessages,onChange:async t=>{const s=t.target.value;w(r=>({...r,allowDirectMessages:s}));try{if((await fetch("/api/user/privacy-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({allow_direct_messages:s})})).ok)a({title:"Message settings updated",description:`Direct messages now allowed from: ${s==="everyone"?"everyone":s==="subscribed"?"creators you're subscribed to":"no one"}`});else throw new Error("Failed to save message settings")}catch(r){console.error("Error saving message settings:",r),a({title:"Error",description:"Failed to save message settings. Please try again.",variant:"destructive"})}},children:[e.jsx("option",{value:"everyone",children:"Everyone"}),e.jsx("option",{value:"subscribed",children:"Creators I'm subscribed to"}),e.jsx("option",{value:"none",children:"No one"})]})]}),e.jsx(d,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Show Activity Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Let others see when you're online"})]}),e.jsx(m,{checked:v.showActivity,onCheckedChange:async t=>{const s={...v,showActivity:t};w(s),await H(s)}})]})]})})]}),e.jsxs(u,{className:"bg-gradient-card border-border/50",children:[e.jsxs(x,{children:[e.jsx(p,{children:"Data & Account Management"}),e.jsx(f,{children:"Manage your account data and preferences"})]}),e.jsx(j,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Download Your Data"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Download a copy of your account data and activity"}),e.jsx(c,{variant:"outline",className:"w-full",children:"Request Data Download"})]}),e.jsx(d,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Blocked Creators"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage creators you've blocked"}),e.jsx(c,{variant:"outline",className:"w-full",children:"Manage Blocked List"})]})]})})]})]}),e.jsx(b,{value:"security",className:"space-y-6",children:e.jsxs(u,{className:"bg-gradient-card border-border/50",children:[e.jsxs(x,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5"}),"Security Settings"]}),e.jsx(f,{children:"Keep your account secure with these settings"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Email Address"}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/20",children:[e.jsx("span",{className:"text-sm",children:i==null?void 0:i.email}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>M(!0),children:"Change Email"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-border/50",children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Change Password"}),e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"currentPassword",children:"Current Password"}),e.jsx(g,{id:"currentPassword",type:"password",value:l.currentPassword,onChange:t=>y(s=>({...s,currentPassword:t.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newPassword",children:"New Password"}),e.jsx(g,{id:"newPassword",type:"password",value:l.newPassword,onChange:t=>y(s=>({...s,newPassword:t.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(g,{id:"confirmPassword",type:"password",value:l.confirmPassword,onChange:t=>y(s=>({...s,confirmPassword:t.target.value}))})]})]}),e.jsx(c,{type:"submit",disabled:_,children:_?"Updating...":"Change Password"})]})]}),e.jsx("div",{className:"space-y-4 pt-4 border-t border-border/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{checked:B.twoFactorEnabled,onCheckedChange:t=>ie(s=>({...s,twoFactorEnabled:t}))}),!B.twoFactorEnabled&&e.jsx(c,{variant:"outline",size:"sm",children:"Setup 2FA"})]})]})}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-border/50",children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Recent Login Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Current Session"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Chrome on Windows • Accra, Ghana"})]}),e.jsx(R,{variant:"outline",className:"text-xs",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Mobile App"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"iPhone • 2 hours ago"})]}),e.jsx(c,{variant:"outline",size:"sm",children:"Revoke"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{variant:"outline",className:"w-full",children:"View Full Login History"}),e.jsx(c,{variant:"outline",className:"w-full",children:"Revoke All Sessions"})]})]}),e.jsx("div",{className:"pt-4 border-t border-border/50",children:e.jsx("div",{className:"p-4 rounded-lg border border-destructive/50 bg-destructive/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-destructive flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Delete Account"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all data"})]}),e.jsxs(q,{open:ae,onOpenChange:L,children:[e.jsx(Ne,{asChild:!0,children:e.jsx(c,{variant:"destructive",children:"Delete Account"})}),e.jsxs(K,{children:[e.jsxs(Q,{children:[e.jsxs($,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(se,{className:"w-5 h-5"}),"Delete Account"]}),e.jsxs(W,{className:"space-y-3",children:[e.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),e.jsx("p",{children:"This includes:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1 ml-4",children:[e.jsx("li",{children:"Your profile and settings"}),e.jsx("li",{children:"All subscription history"}),e.jsx("li",{children:"Payment methods and billing information"}),e.jsx("li",{children:"Messages and conversations"}),e.jsx("li",{children:"All account activity and preferences"})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs(n,{htmlFor:"deleteConfirmation",className:"text-sm font-medium",children:["Please type ",e.jsx("span",{className:"font-bold text-destructive",children:"DELETE"})," to confirm:"]}),e.jsx(g,{id:"deleteConfirmation",value:O,onChange:t=>U(t.target.value),placeholder:"Type DELETE here",className:"mt-2"})]})]})]}),e.jsxs(X,{children:[e.jsx(Z,{onClick:()=>{U(""),L(!1)},children:"Cancel"}),e.jsx(ee,{onClick:de,disabled:O!=="DELETE",className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Account"})]})]})]})]})})})]})]})})]})})]}),e.jsx(q,{open:re,onOpenChange:M,children:e.jsxs(K,{children:[e.jsxs(Q,{children:[e.jsx($,{children:"Change Email Address"}),e.jsx(W,{children:"Enter your new email address below. You may need to verify this email address."})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newEmail",children:"New Email Address"}),e.jsx(g,{id:"newEmail",type:"email",value:S,onChange:t=>Y(t.target.value),placeholder:"Enter new email address"})]})}),e.jsxs(X,{children:[e.jsx(Z,{children:"Cancel"}),e.jsx(ee,{onClick:me,children:"Update Email"})]})]})})]})};export{Ue as FanSettings};
