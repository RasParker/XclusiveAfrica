import{i as ns,j as e,D as _e,p as $e,q as We,s as Te,l as T,t as ts,o as ze,B as n,r as m,P as Fs,v as Es,u as As,a as Ls,b as Ds,w as Us,x as _s,A as D,m as U,n as _,L as he,y as as,M as $,z as $s,C as X,g as q,E as rs}from"./index-DnjzDop3.js";import{T as Ws,a as Ts,b as Fe,c as Ee}from"./tabs-Tn3DyEKi.js";import{U as Ae,P as zs}from"./PaymentModal-Bl23r-KA.js";import{S as Le}from"./separator-Buenz_HF.js";import{S as fe}from"./star-DUOoHea0.js";import{C as Bs}from"./clock-DLXk1hVQ.js";import{T as Zs}from"./textarea-ChWCN1Go.js";import{O as is}from"./OnlineStatusIndicator-GBM_TUd-.js";import{P as De}from"./plus-9blh9VHl.js";import{H as W}from"./heart-BIzJO6uv.js";import{C as Hs}from"./chevron-up-CD9nw7va.js";import{S as K}from"./share-2-BCHyK8hT.js";import{S as ee}from"./square-pen-CNc_pLH1.js";import{T as se}from"./trash-2-DTtK-_sv.js";import{D as Ue}from"./dollar-sign-CzBPYBMC.js";import{A as Os}from"./arrow-left-DJTbtmZM.js";import{F as xe}from"./file-text-CmNfjj7m.js";import{V as ls}from"./video-DbSLhckN.js";import{I as os}from"./image-DUscFDhE.js";import"./select-BgAE-lOE.js";import"./smartphone-DXpypUrS.js";import"./circle-alert-B8H_cjr7.js";import"./loader-circle--UTD5YcZ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ns("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ns("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Vs=({isOpen:p,onClose:o,tier:u,creatorName:y,onSubscribe:b})=>{const z=["Access to exclusive content","Direct messaging privileges","Priority support responses","Monthly exclusive photos/videos","Behind-the-scenes content","Special subscriber-only posts"],B=()=>{console.log("TierDetailsModal: handleSubscribe called"),b(),o()};return e.jsx(_e,{open:p,onOpenChange:o,children:e.jsxs($e,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx(We,{children:e.jsxs(Te,{className:"text-left",children:["Subscribe to ",y]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs(T,{variant:"secondary",className:"text-xs",children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),"Popular"]}),e.jsx(T,{className:"text-xs",style:{backgroundColor:"#262626",color:"white"},children:"Monthly"})]}),e.jsx("h2",{className:"text-2xl font-bold uppercase",children:u.name})]}),e.jsxs("div",{className:"text-3xl font-bold text-accent",children:["GHS ",u.price,e.jsx("span",{className:"text-base font-normal text-muted-foreground ml-1",children:"per month"})]}),e.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:u.description||"Get access to exclusive content and support your favorite creator."})]}),e.jsx(Le,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(ts,{className:"h-5 w-5 text-green-500"}),"What's included:"]}),e.jsx("div",{className:"space-y-3",children:z.map((P,oe)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ts,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:P})]},oe))})]}),e.jsx(Le,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(ze,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-2xl font-bold",children:"156"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Subscribers"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-2xl font-bold",children:"24/7"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Access"})]})]}),e.jsx(Le,{}),e.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground p-4 rounded-lg",style:{backgroundColor:"#262626"},children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Subscription Terms:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"• Recurring monthly billing"}),e.jsx("li",{children:"• Cancel anytime from your account settings"}),e.jsx("li",{children:"• Access continues until the end of your billing period"}),e.jsx("li",{children:"• Secure payment processing via Paystack"})]})]}),e.jsxs(n,{onClick:B,className:"w-full bg-red-600 hover:bg-red-700 text-white py-6 text-lg font-semibold",size:"lg",children:["Subscribe for GHS ",u.price,"/month"]})]})]})})};var Js="AspectRatio",cs=m.forwardRef((p,o)=>{const{ratio:u=1/1,style:y,...b}=p;return e.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/u}%`},"data-radix-aspect-ratio-wrapper":"",children:e.jsx(Fs.div,{...b,ref:o,style:{...y,position:"absolute",top:0,right:0,bottom:0,left:0}})})});cs.displayName=Js;var Qs=cs;const Ys=Qs,Xs=(p,o="card")=>{if(!p)return{truncated:"",needsExpansion:!1};const u={profile:120,card:80,mobile:100},b=u[o]-"... read more".length;return p.length<=u[o]?{truncated:p,needsExpansion:!1}:{truncated:p.slice(0,b),needsExpansion:!0}},qs=({bio:p,context:o="card",className:u="text-sm text-muted-foreground",expanded:y,onToggle:b})=>{const[z,B]=m.useState(!1),P=m.useRef(null),{truncated:oe,needsExpansion:ne}=Xs(p,o),E=y!==void 0?y:z,M=b||(()=>B(!E));m.useEffect(()=>{const Z=H=>{E&&P.current&&!P.current.contains(H.target)&&(b?b():B(!1))};return E&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[E,b]);const pe=Z=>Z.replace(/\bline-clamp-\d+\b/g,"").replace(/\bmax-h-\[[^\]]*\]/g,"").replace(/\boverflow-hidden\b/g,"").replace(/\s+/g," ").trim();return p?e.jsx("div",{ref:P,children:E?e.jsx("div",{children:e.jsxs("p",{onClick:M,className:`cursor-pointer ${pe(u)}`,children:[p,e.jsx("button",{onClick:M,className:"text-sm text-primary font-normal ml-1",children:"Read less"})]})}):e.jsx("div",{className:"relative",children:ne?e.jsx(e.Fragment,{children:e.jsxs("p",{className:`${u} line-clamp-2`,children:[e.jsx("span",{onClick:M,className:"cursor-pointer",children:p}),e.jsx("button",{onClick:M,className:"text-sm text-primary font-normal bg-transparent ml-1",children:"Read more"})]})}):e.jsx("p",{className:u,children:e.jsx("span",{onClick:M,className:"cursor-pointer",children:p})})})}):null},Ks=`
  .feed-card {
    @apply bg-background border border-border rounded-lg overflow-hidden hover:border-primary/20 transition-all duration-200;
  }

  .feed-card-thumbnail {
    @apply relative aspect-square bg-black overflow-hidden;
  }

  .feed-card-content {
    @apply p-2;
  }

  .feed-card-title {
    @apply font-medium text-foreground text-sm leading-tight line-clamp-2 mb-1;
  }

  .feed-card-meta {
    @apply text-xs text-muted-foreground flex items-center gap-1;
  }

  .feed-card-meta span:not(:last-child)::after {
    content: '';
  }
`,It=()=>{const{username:p}=Es(),{user:o}=As(),{toast:u}=Ls(),y=Ds(),b=Us(),[z,B]=m.useState(()=>localStorage.getItem("profilePhotoUrl")),[P,oe]=m.useState(()=>localStorage.getItem("coverPhotoUrl")),[ne,E]=m.useState(()=>localStorage.getItem("displayName")),[M,pe]=m.useState(()=>localStorage.getItem("bio")),[Z,H]=m.useState([]);m.useState(null);const[C,ge]=m.useState([]),[w,Be]=m.useState(null),[ds,ve]=m.useState(!1),[et,ms]=m.useState(!1),[st,us]=m.useState({}),[j,Ze]=m.useState({}),[je,be]=m.useState(null),[te,we]=m.useState(""),[hs,ce]=m.useState(!1),[t,de]=m.useState(null),[xs,He]=m.useState(!0),[k,I]=m.useState(null),[tt,Oe]=m.useState(!1),[fs,Ne]=m.useState(!1),[ae,ye]=m.useState(null),[Re,re]=m.useState(!1),[ps,Ge]=m.useState(!1),[me,gs]=m.useState("all"),[Ve,ie]=m.useState(!1),[Je,le]=m.useState(!1),[vs,Qe]=m.useState(!1),[js,Ye]=m.useState(!1),[ke,Xe]=m.useState(0),[qe,Ce]=m.useState(0),[F,ue]=m.useState(!1),[Ke,es]=m.useState(!1),g=(o==null?void 0:o.username)===p,Ie=async s=>{try{const r=typeof s=="string"?parseInt(s):s;let l=`creatorId=${r}`;const i=await fetch(`/api/posts?${l}`);if(i.ok){const a=await i.json();a.sort((x,c)=>new Date(c.created_at).getTime()-new Date(x.created_at).getTime()),ge(a),o&&await bs(a,Number(o.id)),console.log("Fetched user posts:",a),console.log("User ID:",r,"Is own profile:",g)}}catch(r){console.error("Error fetching user posts:",r)}},bs=async(s,r)=>{try{const l={};for(const i of s){const a=await fetch(`/api/posts/${i.id}/like/${r}`);if(a.ok){const{liked:x}=await a.json();l[i.id]={liked:x,count:i.likes_count||0}}else l[i.id]={liked:!1,count:i.likes_count||0}}Ze(l)}catch(l){console.error("Error fetching like statuses:",l)}};m.useEffect(()=>{const s=()=>{const i=localStorage.getItem("profilePhotoUrl"),a=localStorage.getItem("coverPhotoUrl"),x=localStorage.getItem("displayName"),c=localStorage.getItem("bio");i!==z&&B(i),a!==P&&oe(a),x!==ne&&E(x),c!==M&&pe(c);const h=localStorage.getItem("subscriptionTiers");if(h)try{const d=JSON.parse(h);Array.isArray(d)?d.some(v=>v.name==="Supporter"||v.name==="Fan"||v.name==="Superfan")?(localStorage.removeItem("subscriptionTiers"),H([])):H(d):H([])}catch(d){console.error("Error parsing saved tiers:",d),H([])}};s();const r=i=>{(i.key==="profilePhotoUrl"||i.key==="coverPhotoUrl"||i.key==="displayName"||i.key==="bio"||i.key==="subscriptionTiers")&&(s(),p&&(o==null?void 0:o.username)===p&&(async()=>{try{const x=await fetch(`/api/users/username/${p}`);if(x.ok){const c=await x.json(),h=localStorage.getItem("profilePhotoUrl"),d=localStorage.getItem("coverPhotoUrl"),f=localStorage.getItem("displayName"),v=localStorage.getItem("bio");de(L=>L?{...L,display_name:f&&f.trim()||c.display_name||c.username,avatar:h&&h.trim()||c.avatar||L.avatar,cover:d&&d.trim()||c.cover_image||L.cover,bio:v&&v.trim()||c.bio||L.bio}:null),console.log("Updated creator from storage event:",{profilePhoto:h,coverPhoto:d,displayName:f,bio:v})}}catch(x){console.error("Error re-fetching creator data:",x)}})())},l=i=>{s(),i.detail&&i.detail.type==="postCreated"&&o&&o.username===p&&Ie(o.id)};return window.addEventListener("storage",r),window.addEventListener("localStorageChange",l),()=>{window.removeEventListener("storage",r),window.removeEventListener("localStorageChange",l)}},[p]),m.useEffect(()=>{t&&t.id&&Ie(t.id)},[t==null?void 0:t.id]),m.useEffect(()=>{(async()=>{if(!(!o||!t||g))try{Oe(!0);const r=await fetch(`/api/subscriptions/user/${o.id}/creator/${t.id}`);if(r.ok){const l=await r.json();I(l)}else I(null)}catch(r){console.error("Error fetching subscription:",r),I(null)}finally{Oe(!1)}})()},[o,t,g]),m.useEffect(()=>{const s=async()=>{if(!o||!t||g){I(null);return}try{console.log(`Checking subscription for user ${o.id} to creator ${t.id}`);const l=Date.now(),i=await fetch(`/api/subscriptions/user/${o.id}/creator/${t.id}?_=${l}`);if(i.ok){const a=await i.json();console.log("Subscription API response:",a),a&&a.status==="active"&&a.creator_id===t.id?(I(a),console.log(`✓ User ${o.id} has active subscription to creator ${t.id}:`,a)):(I(null),console.log(`✗ User ${o.id} has no active subscription to creator ${t.id}`))}else I(null),console.log(`✗ No subscription found for user ${o.id} to creator ${t.id} (${i.status})`)}catch(l){console.error("Error checking subscription:",l),I(null)}};s();const r=l=>{l.detail&&l.detail.type==="subscriptionCreated"&&(console.log("🔄 Subscription created, refreshing subscription status..."),s())};return window.addEventListener("subscriptionStatusChange",r),()=>{window.removeEventListener("subscriptionStatusChange",r)}},[o,t,g]);const Se=async s=>{try{const r=await fetch(`/api/creators/${s}/likes-count`);if(r.ok){const l=await r.json();Xe(l.count||0)}}catch(r){console.error("Error fetching creator like count:",r)}},ws=async(s,r)=>{try{const l=await fetch(`/api/creators/${s}/follow/${r}`);if(l.ok){const i=await l.json();ue(i.following||!1)}}catch(l){console.error("Error checking follow status:",l)}},Ns=async()=>{if(!o){u({title:"Login required",description:"You need to be logged in to follow creators.",variant:"destructive"});return}if(o.id===parseInt(t.id)){u({title:"Cannot follow yourself",description:"You cannot follow your own profile.",variant:"destructive"});return}es(!0);try{const s=`/api/creators/${t.id}/follow`,r=F?"DELETE":"POST",l=JSON.stringify({followerId:o.id}),i=await fetch(s,{method:r,headers:{"Content-Type":"application/json"},body:l});if(i.ok)ue(!F),Ce(a=>F?a-1:a+1),u({title:F?"Unfollowed!":"Following!",description:F?`You unfollowed ${t.display_name||t.username}`:`You are now following ${t.display_name||t.username}`});else{const a=await i.json();u({title:"Error",description:a.error||"Failed to update follow status",variant:"destructive"})}}catch(s){console.error("Error toggling follow status:",s),u({title:"Error",description:"Failed to update follow status",variant:"destructive"})}finally{es(!1)}};m.useEffect(()=>{(async()=>{if(!t){ie(!1),le(!1),ue(!1),Xe(0);return}if(await Se(t.id),!o||g){ie(!1),le(!1),ue(!1);return}try{const r=await fetch(`/api/creators/${t.id}/like/${o.id}`);if(r.ok){const i=await r.json();ie(i.liked)}const l=await fetch(`/api/creators/${t.id}/favorite/${o.id}`);if(l.ok){const i=await l.json();le(i.favorited)}await ws(t.id,o.id)}catch(r){console.error("Error checking creator interactions:",r)}})()},[o,t,g]),m.useEffect(()=>{(async()=>{if(p)try{He(!0);const r=decodeURIComponent(p),l=await fetch(`/api/users/username/${encodeURIComponent(r)}`);if(l.ok){const i=await l.json();console.log("Creator data loaded:",i);const a=localStorage.getItem("profilePhotoUrl"),x=localStorage.getItem("coverPhotoUrl"),c=localStorage.getItem("displayName"),h=localStorage.getItem("bio");console.log("Profile photo URL from localStorage:",a),console.log("Cover photo URL from localStorage:",x),console.log("Database avatar:",i.avatar),console.log("Database cover:",i.cover_image),console.log("ProfilePhotoUrl truthy check:",!!(a&&a.trim())),console.log("Final avatar choice:",a&&a.trim()||i.avatar||null),(a===""||a==="null"||a==="undefined")&&localStorage.removeItem("profilePhotoUrl"),(x===""||x==="null"||x==="undefined")&&localStorage.removeItem("coverPhotoUrl"),(async()=>{if(a&&a.trim())try{(await fetch(a,{method:"HEAD"})).ok||(console.log("Profile photo not found, clearing localStorage:",a),localStorage.removeItem("profilePhotoUrl"))}catch{console.log("Profile photo validation failed, clearing localStorage:",a),localStorage.removeItem("profilePhotoUrl")}if(x&&x.trim())try{(await fetch(x,{method:"HEAD"})).ok||(console.log("Cover photo not found, clearing localStorage:",x),localStorage.removeItem("coverPhotoUrl"))}catch{console.log("Cover photo validation failed, clearing localStorage:",x),localStorage.removeItem("coverPhotoUrl")}})();let f=[];if(i!=null&&i.id)try{const v=await fetch(`/api/creators/${i.id}/tiers`);v.ok&&(f=await v.json())}catch(v){console.error("Error fetching tiers:",v)}if(de({...i,display_name:c&&c.trim()||i.display_name||i.username,avatar:a&&a.trim()||i.avatar||null,cover:x&&x.trim()||i.cover_image||null,bio:h&&h.trim()||i.bio||null,subscribers:i.total_subscribers||0,tiers:f}),i!=null&&i.id)try{const v=await fetch(`/api/creators/${i.id}/followers-count`);if(v.ok){const{count:L}=await v.json();Ce(L||0)}}catch(v){console.error("Error fetching follower count:",v),Ce(0)}}else de(null)}catch(r){console.error("Error fetching creator data:",r),de(null)}finally{He(!1)}})()},[p,o==null?void 0:o.username,z,P,ne,M,Z]);const O=s=>{if(s==="CURRENT_TIMESTAMP")return"Just now";const r=new Date(s);if(isNaN(r.getTime()))return"Just now";const i=new Date().getTime()-r.getTime(),a=Math.floor(i/(1e3*60)),x=Math.floor(i/(1e3*60*60)),c=Math.floor(i/(1e3*60*60*24));return a<1?"Just now":a<60?`${a}m ago`:x<24?`${x}h ago`:c<7?`${c}d ago`:`${Math.floor(c/7)}w ago`},ys=s=>{switch(s){case"image":return e.jsx(os,{className:"w-4 h-4"});case"video":return e.jsx(ls,{className:"w-4 h-4"});case"text":return e.jsx(xe,{className:"w-4 h-4"});default:return e.jsx(xe,{className:"w-4 h-4"})}},Pe=s=>{switch(s){case"public":return"outline";case"supporter":return"secondary";case"fan":return"secondary";case"premium":return"default";case"superfan":return"default";default:return"outline"}},R=s=>{switch(s==null?void 0:s.toLowerCase()){case"image":return e.jsx(os,{className:"w-4 h-4 text-white"});case"video":return e.jsx(ls,{className:"w-4 h-4 text-white"});case"text":return e.jsx(xe,{className:"w-4 h-4 text-white"});default:return e.jsx(xe,{className:"w-4 h-4 text-white"})}},A=s=>{var x;if(g)return console.log("Access granted: Own profile"),!0;if(s==="public")return console.log("Access granted: Public content"),!0;if(!o)return console.log("Access denied: User not logged in"),!1;if(!k||k.status!=="active")return console.log("Access denied: No active subscription",{userSubscription:k,hasSubscription:!!k,subscriptionStatus:k==null?void 0:k.status}),!1;if(k.creator_id!==(t==null?void 0:t.id))return console.log("Access denied: Subscription not for this creator",{subscriptionCreatorId:k.creator_id,currentCreatorId:t==null?void 0:t.id}),!1;const r={supporter:1,"starter pump":1,fan:2,premium:2,"power gains":2,superfan:3,"elite beast mode":3},l=r[(x=k.tier_name)==null?void 0:x.toLowerCase()]||0,i=r[s.toLowerCase()]||1,a=l>=i;return console.log("Tier access check:",{postTier:s,userTierLevel:l,postTierLevel:i,userTierName:k.tier_name,hasAccess:a,creatorId:t==null?void 0:t.id,userId:o==null?void 0:o.id}),a},S=()=>{if(!C)return[];switch(me){case"public":return C.filter(s=>s.tier==="public");case"subscription":return C.filter(s=>s.tier!=="public");case"all":default:return C}},Me=()=>C?{all:C.length,subscription:C.filter(s=>s.tier!=="public").length,public:C.filter(s=>s.tier==="public").length}:{all:0,subscription:0,public:0},N=s=>{if(!A(s.tier)){console.log("Access denied for post tier:",s.tier);const r=document.getElementById("subscription-tiers");r&&(r.scrollIntoView({behavior:"smooth"}),Re||re(!0));return}if(s.media_type==="video"&&s.media_urls){const l=(Array.isArray(s.media_urls)?s.media_urls:[s.media_urls])[0],i=l!=null&&l.startsWith("/uploads/")?l:`/uploads/${l}`,a=document.createElement("video");a.src=i,a.onloadedmetadata=()=>{if(a.videoWidth/a.videoHeight>1)y(`/video/${s.id}`);else{const c={...s,mediaPreview:i,type:"Video",caption:s.content||s.title};Be(c),ve(!0)}},a.onerror=()=>{y(`/video/${s.id}`)}}else y(`/video/${s.id}`)},ks=()=>{ve(!1),Be(null),ms(!1)},G=async s=>{if(o)try{const r=j[s]||{liked:!1,count:0};r.liked?await fetch(`/api/posts/${s}/like`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o.id})}):await fetch(`/api/posts/${s}/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o.id})}),Ze(l=>({...l,[s]:{liked:!r.liked,count:r.liked?r.count-1:r.count+1}})),t!=null&&t.id&&Ie(t.id)}catch(r){console.error("Error liking post:",r),u({title:"Error",description:"Failed to like post. Please try again."})}},V=s=>{us(r=>({...r,[s]:!r[s]}))},J=s=>{navigator.clipboard.writeText(`${window.location.origin}/post/${s}`),u({title:"Link copied",description:"Post link has been copied to your clipboard."})},ss=_s({mutationFn:async s=>{const r=await fetch("/api/conversations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({otherUserId:s})});if(!r.ok)throw new Error("Failed to create conversation");return r.json()},onSuccess:async s=>{sessionStorage.setItem("autoSelectConversationId",s.conversationId.toString()),u({title:"Chat started!",description:`You can now message ${t==null?void 0:t.display_name}.`}),setTimeout(()=>{b.invalidateQueries({queryKey:["/api/conversations"]}),window.location.href="/fan/messages"},500)},onError:s=>{u({title:"Error",description:"Failed to start conversation. Please try again.",variant:"destructive"})}}),Cs=async()=>{var s;if(!o){window.location.href=`/login?redirect=/creator/${p}`;return}if(o.role!=="fan"){u({title:"Access Restricted",description:"Only fans can initiate conversations with creators.",variant:"destructive"});return}if(console.log("🔄 Refreshing subscription status before messaging..."),!t){console.log("❌ No creator found");return}try{const r=await fetch(`/api/subscriptions/user/${o.id}/creator/${t.id}`);if(r.ok){const l=await r.json();if(console.log("💬 Fresh subscription check for messaging:",l),l&&l.status==="active"&&l.creator_id===t.id){console.log("✅ Subscription confirmed for messaging"),I(l),t!=null&&t.id&&ss.mutate(t.id);return}}}catch(r){console.error("Error in handleChatClick:",r)}console.log("❌ No valid subscription found for messaging"),u({title:"Subscription Required",description:"You need an active subscription to message this creator.",variant:"destructive"}),(s=document.getElementById("subscription-tiers"))==null||s.scrollIntoView({behavior:"smooth"})},Is=async()=>{if(!(!o||!t||g)){if(o.role!=="fan"){u({title:"Access Restricted",description:"Only fans can like creators.",variant:"destructive"});return}Qe(!0);try{Ve?(await fetch(`/api/creators/${t.id}/like`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({fanId:o.id})})).ok&&(ie(!1),await Se(t.id),u({title:"Unliked",description:`You no longer like ${t.display_name||t.username}.`})):(await fetch(`/api/creators/${t.id}/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fanId:o.id})})).ok&&(ie(!0),await Se(t.id),u({title:"Liked!",description:`You liked ${t.display_name||t.username}.`}))}catch(s){console.error("Error toggling creator like:",s),u({title:"Error",description:"Failed to update like status. Please try again.",variant:"destructive"})}finally{Qe(!1)}}},Ss=async()=>{if(!(!o||!t||g)){if(o.role!=="fan"){u({title:"Access Restricted",description:"Only fans can favorite creators.",variant:"destructive"});return}Ye(!0);try{Je?(await fetch(`/api/creators/${t.id}/favorite`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({fanId:o.id})})).ok&&(le(!1),u({title:"Removed from favorites",description:`${t.display_name||t.username} removed from your favorites.`})):(await fetch(`/api/creators/${t.id}/favorite`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fanId:o.id})})).ok&&(le(!0),u({title:"Added to favorites!",description:`${t.display_name||t.username} added to your favorites.`}))}catch(s){console.error("Error toggling creator favorite:",s),u({title:"Error",description:"Failed to update favorite status. Please try again.",variant:"destructive"})}finally{Ye(!1)}}},Ps=async()=>{if(je)try{const s=await fetch(`/api/posts/${je.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:te,content:te})});if(s.ok){const r=await s.json();ge(l=>l.map(i=>i.id===je.id?{...i,title:te,content:te}:i)),ce(!1),be(null),u({title:"Post updated",description:"Your post has been successfully updated."})}else throw new Error("Failed to update post")}catch{u({title:"Error",description:"Failed to update post. Please try again."})}},Ms=()=>{ce(!1),be(null),we("")};if(xs)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading creator profile..."})]})});if(!t)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Creator Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The creator profile you're looking for doesn't exist."})]})});const Q=s=>{const r=C.find(l=>l.id===s);r&&(be(r),we(r.content||r.title),ce(!0))},Y=s=>{window.confirm("Are you sure you want to delete this post? This action cannot be undone.")&&(ge(l=>l.filter(i=>i.id!==s)),u({title:"Post deleted",description:"Your post has been successfully deleted."}))};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:Ks}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-48 md:h-64 overflow-hidden relative",children:[t.cover?e.jsx("img",{src:t.cover.startsWith("/uploads/")?t.cover:`/uploads/${t.cover}`,alt:t.display_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary/20 to-accent/20 flex items-center justify-center",children:e.jsx("span",{className:"text-muted-foreground hidden md:block",children:"No cover photo"})}),g&&!t.cover&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(n,{variant:"outline",size:"sm",className:"h-10 w-10 p-0 bg-background/80 backdrop-blur-sm border-2 border-border hover:bg-background/90 transition-colors",title:"Add cover photo",onClick:()=>{var s;return(s=document.getElementById("header-cover-upload"))==null?void 0:s.click()},children:e.jsx(De,{className:"w-4 h-4"})}),e.jsx("input",{id:"header-cover-upload",type:"file",accept:"image/*",className:"hidden",onChange:async s=>{var l;const r=(l=s.target.files)==null?void 0:l[0];if(r)try{const i=new FormData;i.append("coverPhoto",r);const a=await fetch("/api/upload/cover-photo",{method:"POST",body:i});if(!a.ok)throw new Error("Upload failed");const x=await a.json();localStorage.setItem("coverPhotoUrl",x.url),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{keys:["coverPhotoUrl"]}})),u({title:"Cover photo updated",description:"Your cover photo has been updated successfully."})}catch{u({title:"Upload failed",description:"Failed to upload cover photo. Please try again.",variant:"destructive"})}}})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-end gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(D,{className:"w-24 h-24 border-4 border-background",children:[e.jsx(U,{src:t.avatar?t.avatar.startsWith("/uploads/")?t.avatar:`/uploads/${t.avatar}`:void 0,alt:t.username}),e.jsx(_,{className:"text-2xl",children:((t==null?void 0:t.display_name)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})]}),g&&!t.avatar&&e.jsx("div",{className:"absolute -bottom-1 -right-1",children:e.jsx(n,{variant:"outline",size:"sm",className:"h-6 w-6 p-0 bg-primary rounded-full border-2 border-background hover:bg-primary/90 transition-colors",title:"Add profile photo",asChild:!0,children:e.jsx(he,{to:"/creator/settings?tab=profile",children:e.jsx(De,{className:"w-3 h-3 text-primary-foreground"})})})})]}),e.jsx("div",{className:"hidden md:flex w-full items-end justify-between",children:e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h1",{className:"text-xl font-semibold text-foreground",children:(t==null?void 0:t.display_name)||(t==null?void 0:t.username)}),t.verified&&e.jsxs(T,{variant:"secondary",className:"bg-accent text-accent-foreground",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",t.username]}),e.jsx(is,{userId:t.id,showLastSeen:!0,size:"md"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4"}),((t==null?void 0:t.total_subscribers)||0).toLocaleString()," subscribers"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),qe.toLocaleString()," followers"]})]})]})}),e.jsxs("div",{className:"md:hidden flex-1 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h1",{className:"text-xl font-semibold text-foreground",children:(t==null?void 0:t.display_name)||(t==null?void 0:t.username)}),t.verified&&e.jsxs(T,{variant:"secondary",className:"bg-accent text-accent-foreground",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",t.username]}),e.jsx(is,{userId:t.id,showLastSeen:!0,size:"md"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4"}),((t==null?void 0:t.total_subscribers)||0).toLocaleString()," subscribers"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),qe.toLocaleString()," followers"]})]})]})]})})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4",children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsx("div",{className:"flex-1",children:(()=>{const s=t.bio||(g?"Add a bio to tell people about yourself.":"No bio available.");return e.jsx("div",{children:e.jsx(qs,{bio:s,context:"profile",className:"text-muted-foreground leading-tight text-sm line-clamp-2"})})})()})}),g?e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(n,{variant:"outline",size:"sm",className:"h-10 w-10 p-0",title:"Edit Profile",asChild:!0,children:e.jsx(he,{to:"/creator/settings",children:e.jsx(as,{className:"w-4 h-4"})})}),e.jsx(n,{variant:"outline",size:"sm",className:"h-10 w-10 p-0",title:"Create Post",asChild:!0,children:e.jsx(he,{to:"/creator/upload",children:e.jsx(De,{className:"w-4 h-4"})})})]}):e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(n,{variant:F?"outline":"default",size:"sm",onClick:Ns,disabled:Ke||!o,"data-testid":`button-${F?"unfollow":"follow"}-${t.id}`,className:"px-4",children:Ke?e.jsx("span",{className:"text-sm",children:"Loading..."}):F?e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Following"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Follow"})]})}),e.jsx(n,{variant:"outline",size:"sm",className:"h-10 w-10 p-0",title:"Start conversation",onClick:Cs,disabled:ss.isPending,children:e.jsx($,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",className:"h-10 w-10 p-0",title:"Like creator",disabled:vs||g||!o||o.role!=="fan",onClick:Is,children:e.jsx(W,{className:`w-4 h-4 ${Ve?"fill-red-500 text-red-500":""}`})}),ke>0&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:[ke.toLocaleString()," ",ke===1?"like":"likes"]})]}),e.jsx(n,{variant:"outline",size:"sm",className:"h-10 w-10 p-0",title:"Add to favorites",disabled:js||g||!o||o.role!=="fan",onClick:Ss,children:e.jsx(fe,{className:`w-4 h-4 ${Je?"fill-yellow-500 text-yellow-500":""}`})}),e.jsx(n,{variant:"outline",size:"sm",className:"h-10 w-10 p-0",title:"Share profile",onClick:()=>{navigator.clipboard.writeText(window.location.href),u({title:"Profile link copied",description:"Creator profile link has been copied to your clipboard."})},children:e.jsx(Rs,{className:"w-4 h-4"})})]})]}),(t==null?void 0:t.tiers)&&t.tiers.length>0&&e.jsx("div",{id:"subscription-tiers",className:"mx-4 mb-6 max-w-4xl md:mx-auto md:px-6",children:e.jsx("div",{className:"border bg-background rounded-lg shadow-lg gap-4 overflow-hidden",children:Re?e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"SUBSCRIPTION TIERS"}),e.jsx("button",{onClick:()=>re(!1),className:"p-1 hover:bg-muted/50 rounded-full transition-colors",children:e.jsx(Hs,{className:"w-4 h-4 text-muted-foreground"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-3",children:t.tiers.map((s,r)=>e.jsxs("div",{className:`flex flex-col p-4 md:p-5 border border-border/30 rounded-lg hover:border-accent/50 transition-colors ${g?"":"cursor-pointer hover:shadow-md"}`,onClick:g?void 0:l=>{if(l.stopPropagation(),console.log("Tier clicked:",s),ye(s),!o){window.location.href=`/login?redirect=/creator/${p}`;return}Ne(!0)},children:[e.jsxs("div",{className:"flex-1 mb-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[e.jsx("span",{className:"text-sm md:text-base font-medium uppercase leading-tight",children:s.name}),r===0&&t.tiers.length>1&&e.jsx("span",{className:"text-xs bg-accent/20 text-accent px-2 py-1 rounded-full flex-shrink-0",children:"POPULAR"})]}),e.jsx("div",{className:"min-h-[3rem]",children:e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground leading-relaxed",children:s.description||"Access to exclusive content and connect directly with the creator"})})]}),e.jsxs("div",{className:"border-t border-border/20 pt-3",children:[e.jsxs("div",{className:"text-lg md:text-xl font-bold text-accent",children:["GHS ",s.price]}),e.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:"per month"})]})]},s.id))}),g&&e.jsx("div",{className:"mt-4 pt-4 border-t border-border/20",children:e.jsx(n,{variant:"outline",size:"sm",className:"w-full md:w-auto text-sm",asChild:!0,children:e.jsxs(he,{to:"/creator/tiers",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"Edit Tiers"]})})})]}):e.jsx("div",{className:"p-4 md:p-6 cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>re(!0),children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"SUBSCRIBE NOW"}),e.jsx($s,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs("div",{className:"flex items-center gap-3 md:gap-3 flex-wrap",children:[t.tiers.slice(0,3).map((s,r)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-sm md:text-base font-medium text-accent whitespace-nowrap",children:["GHS ",s.price]}),r<Math.min(t.tiers.length-1,2)&&e.jsx("span",{className:"text-xs md:text-sm text-muted-foreground mx-1",children:"•"})]},s.id)),t.tiers.length>3&&e.jsxs("span",{className:"text-xs md:text-sm text-muted-foreground whitespace-nowrap",children:["+",t.tiers.length-3," more"]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:g?e.jsx(n,{size:"sm",variant:"outline",className:"px-3 py-2 text-sm font-medium rounded-full md:px-6 md:py-3",onClick:s=>{s.stopPropagation(),re(!0)},children:"MANAGE"}):e.jsx(n,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 text-sm font-medium rounded-full md:px-6 md:py-3",onClick:s=>{s.stopPropagation(),re(!0)},children:"NOW"})})]})})})}),e.jsx("div",{className:"max-w-4xl mx-auto md:px-6 py-8",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(Ws,{value:me,onValueChange:gs,className:"space-y-6",children:[e.jsxs(Ts,{className:"grid w-full grid-cols-3",children:[e.jsxs(Fe,{value:"all",className:"text-sm",children:["All (",Me().all,")"]}),e.jsxs(Fe,{value:"subscription",className:"text-sm",children:["Subscription (",Me().subscription,")"]}),e.jsxs(Fe,{value:"public",className:"text-sm",children:["Public (",Me().public,")"]})]}),e.jsx(Ee,{value:"all",className:"space-y-6",children:e.jsx("div",{children:S().length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"w-full bg-background space-y-0 scrollbar-hide mobile-feed-container",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:S().map(s=>{var r,l,i;return e.jsxs("div",{className:"w-full bg-background border-b border-border/20 overflow-hidden",children:[e.jsxs("div",{className:"relative w-full aspect-video bg-black cursor-pointer",onClick:()=>N(s),role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),N(s))},children:[(()=>{if(!A(s.tier))return e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-accent/20 to-accent/10 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),e.jsxs("div",{className:"text-center z-10 p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-8 h-8 mx-auto text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[s.tier==="supporter"?"Supporter":s.tier==="fan"?"Fan":s.tier==="premium"?"Premium":s.tier==="superfan"?"Superfan":"Premium"," Content"]}),e.jsx(n,{size:"sm",className:"bg-accent hover:bg-accent/90 text-black text-xs px-2 py-1",onClick:h=>{var d;h.stopPropagation(),o?(d=document.getElementById("subscription-tiers"))==null||d.scrollIntoView({behavior:"smooth"}):window.location.href=`/login?redirect=/creator/${p}`},children:o?"Subscribe":"Login"})]})]});const c=(Array.isArray(s.media_urls)?s.media_urls:[s.media_urls])[0];if(c){const h=c.startsWith("/uploads/")?c:`/uploads/${c}`;return s.media_type==="video"?e.jsx("video",{src:h,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}):e.jsx("img",{src:h,alt:s.title,className:"w-full h-full object-cover",onError:d=>{const f=d.target;f.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy92MDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzVMMTI1IDEwMEgxMTJWMTI1SDg4VjEwMEg3NUwxMDAgNzVaIiBmaWxsPSIjOWNhM2FmIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOWNhM2FmIiBmb250LXNpemU9IjEyIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+Cjwvc3ZnPg==",f.className="w-full h-full object-cover opacity-50"}})}else return e.jsx("img",{src:s.id==="1"?"https://placehold.co/640x360/E63946/FFFFFF?text=Creator+Post+1":s.id==="2"?"https://placehold.co/640x360/457B9D/FFFFFF?text=Creator+Post+2":s.id==="3"?"https://placehold.co/640x360/1D3557/FFFFFF?text=Creator+Post+3":`https://placehold.co/640x360/6366F1/FFFFFF?text=Creator+Post+${s.id}`,alt:`${t.display_name}'s post`,className:"w-full h-full object-cover"})})(),s.media_type!=="video"&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-black/60 backdrop-blur-sm",children:R(s.media_type)})})]}),e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(D,{className:"h-12 w-12 flex-shrink-0 ring-2 ring-transparent hover:ring-primary/20 transition-all duration-200",children:[e.jsx(U,{src:t.avatar?t.avatar.startsWith("/uploads/")?t.avatar:`/uploads/${t.avatar}`:void 0,alt:t.username}),e.jsx(_,{className:"text-sm bg-muted text-muted-foreground",children:((t==null?void 0:t.display_name)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground line-clamp-2 leading-tight",children:s.content||s.title||"Untitled Post"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate",children:t.display_name}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsxs("span",{children:[(s.likes_count||s.views||0).toLocaleString()," views"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:O(s.created_at||s.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/30",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{variant:"ghost",size:"sm",className:`h-10 w-10 p-0 rounded-full transition-all duration-200 ${(r=j[s.id])!=null&&r.liked?"text-red-500 bg-red-50 hover:bg-red-100":"text-muted-foreground hover:text-red-500 hover:bg-red-50"}`,onClick:a=>{a.stopPropagation(),G(s.id)},children:e.jsx(W,{className:`w-5 h-5 ${(l=j[s.id])!=null&&l.liked?"fill-current":""}`})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:((i=j[s.id])==null?void 0:i.count)||s.likes_count||0})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-blue-500 hover:bg-blue-50",onClick:a=>{a.stopPropagation(),V(s.id)},children:e.jsx($,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:s.comments_count||0})]}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-green-500 hover:bg-green-50",onClick:a=>{a.stopPropagation(),J(s.id)},children:e.jsx(K,{className:"w-5 h-5"})})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-blue-500",onClick:a=>{a.stopPropagation(),Q(s.id)},children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-red-500",onClick:a=>{a.stopPropagation(),Y(s.id)},children:e.jsx(se,{className:"w-4 h-4"})})]})]})]})]})})]},s.id)})})}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:S().map(s=>{var r,l,i;return e.jsx(X,{className:"bg-gradient-card border-border/50 overflow-hidden transition-all duration-500 ease-out hover:shadow-xl hover:border-primary/30",children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer overflow-hidden group",onClick:()=>N(s),role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),N(s))},children:[(()=>{if(!A(s.tier))return e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-accent/20 to-accent/10 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),e.jsxs("div",{className:"text-center z-10 p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-12 h-12 mx-auto text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("h3",{className:"text-base font-medium text-foreground mb-2",children:[s.tier==="supporter"?"Supporter":s.tier==="fan"?"Fan":s.tier==="premium"?"Premium":s.tier==="superfan"?"Superfan":"Premium"," Content"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Subscribe to unlock"}),e.jsx(n,{size:"sm",className:"bg-accent hover:bg-accent/90 text-black text-sm px-4",onClick:h=>{var d;h.stopPropagation(),o?(d=document.getElementById("subscription-tiers"))==null||d.scrollIntoView({behavior:"smooth"}):window.location.href=`/login?redirect=/creator/${p}`},children:o?"Subscribe":"Login"})]})]});const c=(Array.isArray(s.media_urls)?s.media_urls:[s.media_urls])[0];if(c){const h=c.startsWith("/uploads/")?c:`/uploads/${c}`;return s.media_type==="video"?e.jsx("video",{src:h,className:"w-full h-full object-cover",muted:!0,preload:"metadata",onError:d=>{const f=d.target;f.style.display="none";const v=f.parentElement;v&&(v.innerHTML=`<div class="w-full h-full bg-gray-800 flex items-center justify-center">
                                          <div class="text-white text-sm">Video unavailable</div>
                                        </div>`)}}):e.jsx("img",{src:h,alt:s.title,className:"w-full h-full object-cover",onError:d=>{const f=d.target;f.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy92MDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzVMMTI1IDEwMEgxMTJWMTI1SDg4VjEwMEg3NUwxMDAgNzVaIiBmaWxsPSIjOWNhM2FmIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOWNhM2FmIiBmb250LXNpemU9IjEyIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+Cjwvc3ZnPg==",f.className="w-full h-full object-cover opacity-50"}})}else return e.jsx("img",{src:`https://placehold.co/1280x720/6366F1/FFFFFF?text=Creator+Post+${s.id}`,alt:`${t.display_name}'s post`,className:"w-full h-full object-cover"})})(),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(T,{variant:Pe(s.tier),className:"text-sm",children:s.tier==="public"?"Free":s.tier.toLowerCase()==="starter pump"?"Starter Pump":s.tier.toLowerCase()==="power gains"?"Power Gains":s.tier.toLowerCase()==="elite beast mode"?"Elite Beast Mode":s.tier.toLowerCase().includes("starter")?"Starter Pump":s.tier.toLowerCase().includes("power")?"Power Gains":s.tier.toLowerCase().includes("elite")||s.tier.toLowerCase().includes("beast")?"Elite Beast Mode":s.tier})}),s.media_type!=="video"&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-black/60 backdrop-blur-sm",children:R(s.media_type)})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(D,{className:"h-12 w-12 flex-shrink-0 ring-2 ring-transparent hover:ring-primary/20 transition-all duration-200",children:[e.jsx(U,{src:t.avatar?t.avatar.startsWith("/uploads/")?t.avatar:`/uploads/${t.avatar}`:void 0,alt:t.username}),e.jsx(_,{className:"text-sm bg-muted text-muted-foreground",children:((t==null?void 0:t.display_name)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground line-clamp-2 leading-tight",children:s.content||s.title||"Untitled Post"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate",children:t.display_name}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsxs("span",{children:[(s.likes_count||s.views||0).toLocaleString()," views"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:O(s.created_at||s.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/30",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{variant:"ghost",size:"sm",className:`h-10 w-10 p-0 rounded-full transition-all duration-200 ${(r=j[s.id])!=null&&r.liked?"text-red-500 bg-red-50 hover:bg-red-100":"text-muted-foreground hover:text-red-500 hover:bg-red-50"}`,onClick:a=>{a.stopPropagation(),G(s.id)},children:e.jsx(W,{className:`w-5 h-5 ${(l=j[s.id])!=null&&l.liked?"fill-current":""}`})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:((i=j[s.id])==null?void 0:i.count)||s.likes_count||0})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-blue-500 hover:bg-blue-50",onClick:a=>{a.stopPropagation(),V(s.id)},children:e.jsx($,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:s.comments_count||0})]}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-muted-foreground hover:text-green-500",onClick:a=>{a.stopPropagation(),J(s.id)},children:e.jsx(K,{className:"w-4 h-4"})})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-blue-500",onClick:a=>{a.stopPropagation(),Q(s.id)},children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-red-500",onClick:a=>{a.stopPropagation(),Y(s.id)},children:e.jsx(se,{className:"w-4 h-4"})})]})]})]})]})})]})},s.id)})})})]}):e.jsx(X,{className:"bg-gradient-card border-border/50",children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Ue,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No posts in this category"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:me==="all"?g?"Start creating content to build your audience.":`${t.display_name} hasn't posted any content yet.`:me==="public"?g?"No public posts yet. Create some free content to attract new fans.":`${t.display_name} hasn't posted any public content yet.`:g?"No subscription content yet. Create premium posts for your subscribers.":`${t.display_name} hasn't posted any subscription content yet.`})]})})})})}),e.jsx(Ee,{value:"subscription",className:"space-y-6",children:e.jsx("div",{children:S().length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"w-full bg-background space-y-0 scrollbar-hide mobile-feed-container",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:S().map(s=>{var r,l,i;return e.jsxs("div",{className:"w-full bg-background border-b border-border/20 overflow-hidden",children:[e.jsxs("div",{className:"relative w-full aspect-video bg-black cursor-pointer",onClick:()=>N(s),role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),N(s))},children:[(()=>{if(!A(s.tier))return e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-accent/20 to-accent/10 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),e.jsxs("div",{className:"text-center z-10 p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-8 h-8 mx-auto text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[s.tier==="supporter"?"Supporter":s.tier==="fan"?"Fan":s.tier==="premium"?"Premium":s.tier==="superfan"?"Superfan":"Premium"," Content"]}),e.jsx(n,{size:"sm",className:"bg-accent hover:bg-accent/90 text-black text-xs px-2 py-1",onClick:h=>{var d;h.stopPropagation(),o?(d=document.getElementById("subscription-tiers"))==null||d.scrollIntoView({behavior:"smooth"}):window.location.href=`/login?redirect=/creator/${p}`},children:o?"Subscribe":"Login"})]})]});const c=(Array.isArray(s.media_urls)?s.media_urls:[s.media_urls])[0];if(c){const h=c.startsWith("/uploads/")?c:`/uploads/${c}`;return s.media_type==="video"?e.jsx("video",{src:h,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}):e.jsx("img",{src:h,alt:s.title,className:"w-full h-full object-cover",onError:d=>{const f=d.target;f.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy92MDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzVMMTI1IDEwMEgxMTJWMTI1SDg4VjEwMEg3NUwxMDAgNzVaIiBmaWxsPSIjOWNhM2FmIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOWNhM2FmIiBmb250LXNpemU9IjEyIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+Cjwvc3ZnPg==",f.className="w-full h-full object-cover opacity-50"}})}else return e.jsx("img",{src:s.id==="1"?"https://placehold.co/640x360/E63946/FFFFFF?text=Creator+Post+1":s.id==="2"?"https://placehold.co/640x360/457B9D/FFFFFF?text=Creator+Post+2":s.id==="3"?"https://placehold.co/640x360/1D3557/FFFFFF?text=Creator+Post+3":`https://placehold.co/640x360/6366F1/FFFFFF?text=Creator+Post+${s.id}`,alt:`${t.display_name}'s post`,className:"w-full h-full object-cover"})})(),s.media_type!=="video"&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-black/60 backdrop-blur-sm",children:R(s.media_type)})})]}),e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(D,{className:"h-12 w-12 flex-shrink-0 ring-2 ring-transparent hover:ring-primary/20 transition-all duration-200",children:[e.jsx(U,{src:t.avatar?t.avatar.startsWith("/uploads/")?t.avatar:`/uploads/${t.avatar}`:void 0,alt:t.username}),e.jsx(_,{className:"text-sm bg-muted text-muted-foreground",children:((t==null?void 0:t.display_name)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground line-clamp-2 leading-tight",children:s.content||s.title||"Untitled Post"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate",children:t.display_name}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsxs("span",{children:[(s.likes_count||s.views||0).toLocaleString()," views"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:O(s.created_at||s.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/30",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{variant:"ghost",size:"sm",className:`h-10 w-10 p-0 rounded-full transition-all duration-200 ${(r=j[s.id])!=null&&r.liked?"text-red-500 bg-red-50 hover:bg-red-100":"text-muted-foreground hover:text-red-500 hover:bg-red-50"}`,onClick:a=>{a.stopPropagation(),G(s.id)},children:e.jsx(W,{className:`w-5 h-5 ${(l=j[s.id])!=null&&l.liked?"fill-current":""}`})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:((i=j[s.id])==null?void 0:i.count)||s.likes_count||0})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-blue-500 hover:bg-blue-50",onClick:a=>{a.stopPropagation(),V(s.id)},children:e.jsx($,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:s.comments_count||0})]}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-green-500 hover:bg-green-50",onClick:a=>{a.stopPropagation(),J(s.id)},children:e.jsx(K,{className:"w-5 h-5"})})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-blue-500",onClick:a=>{a.stopPropagation(),Q(s.id)},children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-red-500",onClick:a=>{a.stopPropagation(),Y(s.id)},children:e.jsx(se,{className:"w-4 h-4"})})]})]})]})]})})]},s.id)})})}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:S().map(s=>{var r,l,i;return e.jsx(X,{className:"bg-gradient-card border-border/50 overflow-hidden transition-all duration-500 ease-out hover:shadow-xl hover:border-primary/30",children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer overflow-hidden group",onClick:()=>N(s),role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),N(s))},children:[(()=>{if(!A(s.tier))return e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-accent/20 to-accent/10 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),e.jsxs("div",{className:"text-center z-10 p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-12 h-12 mx-auto text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("h3",{className:"text-base font-medium text-foreground mb-2",children:[s.tier==="supporter"?"Supporter":s.tier==="fan"?"Fan":s.tier==="premium"?"Premium":s.tier==="superfan"?"Superfan":"Premium"," Content"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Subscribe to unlock"}),e.jsx(n,{size:"sm",className:"bg-accent hover:bg-accent/90 text-black text-sm px-4",onClick:h=>{var d;h.stopPropagation(),o?(d=document.getElementById("subscription-tiers"))==null||d.scrollIntoView({behavior:"smooth"}):window.location.href=`/login?redirect=/creator/${p}`},children:o?"Subscribe":"Login"})]})]});const c=(Array.isArray(s.media_urls)?s.media_urls:[s.media_urls])[0];if(c){const h=c.startsWith("/uploads/")?c:`/uploads/${c}`;return s.media_type==="video"?e.jsx("video",{src:h,className:"w-full h-full object-cover",muted:!0,preload:"metadata",onError:d=>{const f=d.target;f.style.display="none";const v=f.parentElement;v&&(v.innerHTML=`<div class="w-full h-full bg-gray-800 flex items-center justify-center">
                                          <div class="text-white text-sm">Video unavailable</div>
                                        </div>`)}}):e.jsx("img",{src:h,alt:s.title,className:"w-full h-full object-cover",onError:d=>{const f=d.target;f.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy92MDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzVMMTI1IDEwMEgxMTJWMTI1SDg4VjEwMEg3NUwxMDAgNzVaIiBmaWxsPSIjOWNhM2FmIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOWNhM2FmIiBmb250LXNpemU9IjEyIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+Cjwvc3ZnPg==",f.className="w-full h-full object-cover opacity-50"}})}else return e.jsx("img",{src:`https://placehold.co/1280x720/6366F1/FFFFFF?text=Creator+Post+${s.id}`,alt:`${t.display_name}'s post`,className:"w-full h-full object-cover"})})(),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(T,{variant:Pe(s.tier),className:"text-sm",children:s.tier==="public"?"Free":s.tier.toLowerCase()==="starter pump"?"Starter Pump":s.tier.toLowerCase()==="power gains"?"Power Gains":s.tier.toLowerCase()==="elite beast mode"?"Elite Beast Mode":s.tier.toLowerCase().includes("starter")?"Starter Pump":s.tier.toLowerCase().includes("power")?"Power Gains":s.tier.toLowerCase().includes("elite")||s.tier.toLowerCase().includes("beast")?"Elite Beast Mode":s.tier})}),s.media_type!=="video"&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-black/60 backdrop-blur-sm",children:R(s.media_type)})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(D,{className:"h-12 w-12 flex-shrink-0 ring-2 ring-transparent hover:ring-primary/20 transition-all duration-200",children:[e.jsx(U,{src:t.avatar?t.avatar.startsWith("/uploads/")?t.avatar:`/uploads/${t.avatar}`:void 0,alt:t.username}),e.jsx(_,{className:"text-sm bg-muted text-muted-foreground",children:((t==null?void 0:t.display_name)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground line-clamp-2 leading-tight",children:s.content||s.title||"Untitled Post"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate",children:t.display_name}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsxs("span",{children:[(s.likes_count||s.views||0).toLocaleString()," views"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:O(s.created_at||s.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/30",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{variant:"ghost",size:"sm",className:`h-10 w-10 p-0 rounded-full transition-all duration-200 ${(r=j[s.id])!=null&&r.liked?"text-red-500 bg-red-50 hover:bg-red-100":"text-muted-foreground hover:text-red-500 hover:bg-red-50"}`,onClick:a=>{a.stopPropagation(),G(s.id)},children:e.jsx(W,{className:`w-5 h-5 ${(l=j[s.id])!=null&&l.liked?"fill-current":""}`})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:((i=j[s.id])==null?void 0:i.count)||s.likes_count||0})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-blue-500 hover:bg-blue-50",onClick:a=>{a.stopPropagation(),V(s.id)},children:e.jsx($,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:s.comments_count||0})]}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-muted-foreground hover:text-green-500",onClick:a=>{a.stopPropagation(),J(s.id)},children:e.jsx(K,{className:"w-4 h-4"})})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-blue-500",onClick:a=>{a.stopPropagation(),Q(s.id)},children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-red-500",onClick:a=>{a.stopPropagation(),Y(s.id)},children:e.jsx(se,{className:"w-4 h-4"})})]})]})]})]})})]})},s.id)})})})]}):e.jsx(X,{className:"bg-gradient-card border-border/50",children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Ue,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No public posts yet"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:g?"Create some free content to attract new fans.":`${t.display_name} hasn't posted any public content yet.`})]})})})})}),e.jsx(Ee,{value:"public",className:"space-y-6",children:e.jsx("div",{children:S().length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"w-full bg-background space-y-0 scrollbar-hide mobile-feed-container",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:S().map(s=>{var r,l,i;return e.jsxs("div",{className:"w-full bg-background border-b border-border/20 overflow-hidden",children:[e.jsxs("div",{className:"relative w-full aspect-video bg-black cursor-pointer",onClick:()=>N(s),role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),N(s))},children:[(()=>{if(!A(s.tier))return e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-accent/20 to-accent/10 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),e.jsxs("div",{className:"text-center z-10 p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-8 h-8 mx-auto text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[s.tier==="supporter"?"Supporter":s.tier==="fan"?"Fan":s.tier==="premium"?"Premium":s.tier==="superfan"?"Superfan":"Premium"," Content"]}),e.jsx(n,{size:"sm",className:"bg-accent hover:bg-accent/90 text-black text-xs px-2 py-1",onClick:h=>{var d;h.stopPropagation(),o?(d=document.getElementById("subscription-tiers"))==null||d.scrollIntoView({behavior:"smooth"}):window.location.href=`/login?redirect=/creator/${p}`},children:o?"Subscribe":"Login"})]})]});const c=(Array.isArray(s.media_urls)?s.media_urls:[s.media_urls])[0];if(c){const h=c.startsWith("/uploads/")?c:`/uploads/${c}`;return s.media_type==="video"?e.jsx("video",{src:h,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}):e.jsx("img",{src:h,alt:s.title,className:"w-full h-full object-cover",onError:d=>{const f=d.target;f.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy92MDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzVMMTI1IDEwMEgxMTJWMTI1SDg4VjEwMEg3NUwxMDAgNzVaIiBmaWxsPSIjOWNhM2FmIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOWNhM2FmIiBmb250LXNpemU9IjEyIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+Cjwvc3ZnPg==",f.className="w-full h-full object-cover opacity-50"}})}else return e.jsx("img",{src:s.id==="1"?"https://placehold.co/640x360/E63946/FFFFFF?text=Creator+Post+1":s.id==="2"?"https://placehold.co/640x360/457B9D/FFFFFF?text=Creator+Post+2":s.id==="3"?"https://placehold.co/640x360/1D3557/FFFFFF?text=Creator+Post+3":`https://placehold.co/640x360/6366F1/FFFFFF?text=Creator+Post+${s.id}`,alt:`${t.display_name}'s post`,className:"w-full h-full object-cover"})})(),s.media_type!=="video"&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-black/60 backdrop-blur-sm",children:R(s.media_type)})})]}),e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(D,{className:"h-12 w-12 flex-shrink-0 ring-2 ring-transparent hover:ring-primary/20 transition-all duration-200",children:[e.jsx(U,{src:t.avatar?t.avatar.startsWith("/uploads/")?t.avatar:`/uploads/${t.avatar}`:void 0,alt:t.username}),e.jsx(_,{className:"text-sm bg-muted text-muted-foreground",children:((t==null?void 0:t.display_name)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground line-clamp-2 leading-tight",children:s.content||s.title||"Untitled Post"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate",children:t.display_name}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsxs("span",{children:[(s.likes_count||s.views||0).toLocaleString()," views"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:O(s.created_at||s.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/30",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{variant:"ghost",size:"sm",className:`h-10 w-10 p-0 rounded-full transition-all duration-200 ${(r=j[s.id])!=null&&r.liked?"text-red-500 bg-red-50 hover:bg-red-100":"text-muted-foreground hover:text-red-500 hover:bg-red-50"}`,onClick:a=>{a.stopPropagation(),G(s.id)},children:e.jsx(W,{className:`w-5 h-5 ${(l=j[s.id])!=null&&l.liked?"fill-current":""}`})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:((i=j[s.id])==null?void 0:i.count)||s.likes_count||0})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-blue-500 hover:bg-blue-50",onClick:a=>{a.stopPropagation(),V(s.id)},children:e.jsx($,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:s.comments_count||0})]}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-green-500 hover:bg-green-50",onClick:a=>{a.stopPropagation(),J(s.id)},children:e.jsx(K,{className:"w-5 h-5"})})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-blue-500",onClick:a=>{a.stopPropagation(),Q(s.id)},children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-red-500",onClick:a=>{a.stopPropagation(),Y(s.id)},children:e.jsx(se,{className:"w-4 h-4"})})]})]})]})]})})]},s.id)})})}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:S().map(s=>{var r,l,i;return e.jsx(X,{className:"bg-gradient-card border-border/50 overflow-hidden transition-all duration-500 ease-out hover:shadow-xl hover:border-primary/30",children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer overflow-hidden group",onClick:()=>N(s),role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),N(s))},children:[(()=>{if(!A(s.tier))return e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-accent/20 to-accent/10 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),e.jsxs("div",{className:"text-center z-10 p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-12 h-12 mx-auto text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("h3",{className:"text-base font-medium text-foreground mb-2",children:[s.tier==="supporter"?"Supporter":s.tier==="fan"?"Fan":s.tier==="premium"?"Premium":s.tier==="superfan"?"Superfan":"Premium"," Content"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Subscribe to unlock"}),e.jsx(n,{size:"sm",className:"bg-accent hover:bg-accent/90 text-black text-sm px-4",onClick:h=>{var d;h.stopPropagation(),o?(d=document.getElementById("subscription-tiers"))==null||d.scrollIntoView({behavior:"smooth"}):window.location.href=`/login?redirect=/creator/${p}`},children:o?"Subscribe":"Login"})]})]});const c=(Array.isArray(s.media_urls)?s.media_urls:[s.media_urls])[0];if(c){const h=c.startsWith("/uploads/")?c:`/uploads/${c}`;return s.media_type==="video"?e.jsx("video",{src:h,className:"w-full h-full object-cover",muted:!0,preload:"metadata",onError:d=>{const f=d.target;f.style.display="none";const v=f.parentElement;v&&(v.innerHTML=`<div class="w-full h-full bg-gray-800 flex items-center justify-center">
                                          <div class="text-white text-sm">Video unavailable</div>
                                        </div>`)}}):e.jsx("img",{src:h,alt:s.title,className:"w-full h-full object-cover",onError:d=>{const f=d.target;f.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy92MDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzVMMTI1IDEwMEgxMTJWMTI1SDg4VjEwMEg3NUwxMDAgNzVaIiBmaWxsPSIjOWNhM2FmIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOWNhM2FmIiBmb250LXNpemU9IjEyIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+Cjwvc3ZnPg==",f.className="w-full h-full object-cover opacity-50"}})}else return e.jsx("img",{src:`https://placehold.co/1280x720/6366F1/FFFFFF?text=Creator+Post+${s.id}`,alt:`${t.display_name}'s post`,className:"w-full h-full object-cover"})})(),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(T,{variant:Pe(s.tier),className:"text-sm",children:s.tier==="public"?"Free":s.tier.toLowerCase()==="starter pump"?"Starter Pump":s.tier.toLowerCase()==="power gains"?"Power Gains":s.tier.toLowerCase()==="elite beast mode"?"Elite Beast Mode":s.tier.toLowerCase().includes("starter")?"Starter Pump":s.tier.toLowerCase().includes("power")?"Power Gains":s.tier.toLowerCase().includes("elite")||s.tier.toLowerCase().includes("beast")?"Elite Beast Mode":s.tier})}),s.media_type!=="video"&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-black/60 backdrop-blur-sm",children:R(s.media_type)})})]}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(D,{className:"h-12 w-12 flex-shrink-0 ring-2 ring-transparent hover:ring-primary/20 transition-all duration-200",children:[e.jsx(U,{src:t.avatar?t.avatar.startsWith("/uploads/")?t.avatar:`/uploads/${t.avatar}`:void 0,alt:t.username}),e.jsx(_,{className:"text-sm bg-muted text-muted-foreground",children:((t==null?void 0:t.display_name)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground line-clamp-2 leading-tight",children:s.content||s.title||"Untitled Post"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate",children:t.display_name}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsxs("span",{children:[(s.likes_count||s.views||0).toLocaleString()," views"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:O(s.created_at||s.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/30",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{variant:"ghost",size:"sm",className:`h-10 w-10 p-0 rounded-full transition-all duration-200 ${(r=j[s.id])!=null&&r.liked?"text-red-500 bg-red-50 hover:bg-red-100":"text-muted-foreground hover:text-red-500 hover:bg-red-50"}`,onClick:a=>{a.stopPropagation(),G(s.id)},children:e.jsx(W,{className:`w-5 h-5 ${(l=j[s.id])!=null&&l.liked?"fill-current":""}`})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:((i=j[s.id])==null?void 0:i.count)||s.likes_count||0})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full transition-all duration-200 text-muted-foreground hover:text-blue-500 hover:bg-blue-50",onClick:a=>{a.stopPropagation(),V(s.id)},children:e.jsx($,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:s.comments_count||0})]}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-muted-foreground hover:text-green-500",onClick:a=>{a.stopPropagation(),J(s.id)},children:e.jsx(K,{className:"w-4 h-4"})})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-blue-500",onClick:a=>{a.stopPropagation(),Q(s.id)},children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-red-500",onClick:a=>{a.stopPropagation(),Y(s.id)},children:e.jsx(se,{className:"w-4 h-4"})})]})]})]})]})})]})},s.id)})})})]}):e.jsx(X,{className:"bg-gradient-card border-border/50",children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Ue,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No public posts yet"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:g?"Create some free content to attract new fans.":`${t.display_name} hasn't posted any public content yet.`})]})})})})})]})})}),e.jsx(_e,{open:ds,onOpenChange:ve,children:e.jsxs($e,{className:"max-w-[95vh] max-h-[95vh] p-0 overflow-hidden border-0 [&>button]:hidden",children:[e.jsxs(We,{className:"sr-only",children:[e.jsxs(Te,{children:[w==null?void 0:w.type," Content"]}),e.jsx(rs,{children:"View content"})]}),w&&e.jsxs("div",{className:"relative bg-black",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"absolute top-4 left-4 z-50 w-10 h-10 rounded-full text-white hover:bg-white/10",onClick:ks,children:e.jsx(Os,{className:"w-7 h-7"})}),e.jsx(Ys,{ratio:1,className:"overflow-hidden",children:w.mediaPreview?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm scale-110",style:{backgroundImage:`url(${w.mediaPreview})`}}),e.jsx("div",{className:"relative z-10 w-full h-full",children:w.type==="Video"?e.jsx("video",{src:w.mediaPreview,className:"w-full h-full object-contain",controls:!0,autoPlay:!0,muted:!0}):e.jsx("img",{src:w.mediaPreview,alt:w.caption,className:"w-full h-full object-contain"})})]}):e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gradient-primary/10",children:e.jsxs("div",{className:"text-center text-white",children:[ys(w.type),e.jsxs("p",{className:"mt-2",children:[w.type," Content"]})]})})})]})]})}),e.jsx(_e,{open:hs,onOpenChange:ce,children:e.jsxs($e,{className:"max-w-2xl",children:[e.jsxs(We,{children:[e.jsx(Te,{children:"Edit Post"}),e.jsx(rs,{children:"Make changes to your post content below."})]}),e.jsx("div",{className:"space-y-4 mt-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"editCaption",className:"block text-sm font-medium mb-2",children:"Caption"}),e.jsx(Zs,{id:"editCaption",value:te,onChange:s=>we(s.target.value),className:"w-full min-h-[120px]",placeholder:"Write your post caption here..."})]})}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(n,{variant:"outline",onClick:Ms,children:"Cancel"}),e.jsx(n,{onClick:Ps,children:"Save Changes"})]})]})}),ae&&e.jsx(Vs,{isOpen:ps,onClose:()=>{Ge(!1),ye(null)},tier:ae,creatorName:t.display_name||t.username,onSubscribe:()=>{console.log("CreatorProfile: onSubscribe called from TierDetailsModal"),Ge(!1),setTimeout(()=>{console.log("Opening PaymentModal with tier:",ae),Ne(!0)},100)}}),ae&&e.jsx(zs,{isOpen:fs,onClose:()=>{Ne(!1),ye(null)},tier:ae,creatorName:t.display_name||t.username})]})]})};export{It as CreatorProfile};
